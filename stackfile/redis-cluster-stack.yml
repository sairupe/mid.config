version: "3.6"
services:
  redis01:
    image: redis:5.0.9-alpine3.11
    volumes:
      - /data/redis7001/data:/data
      - /data/redis7001/conf/redis7001.conf:/redis/redis.conf
      - /home/software/redis-5.0.9:/redis
    command: "redis-server /redis/redis.conf"
    sysctls: 
      - net.core.somaxconn=1024
    ports:
      - "7001:7001"
      - "17001:17001"
    networks:
      redis-net:
        ipv4_address: 10.0.1.71
  redis02:
    image: redis:5.0.9-alpine3.11
    volumes:
      - /data/redis7002/data:/data
      - /data/redis7002/conf/redis7002.conf:/redis/redis.conf
    command: "redis-server /redis/redis.conf"	
    sysctls: 
      - net.core.somaxconn=1024
    ports:
      - "7002:7002"
      - "17002:17002"
    networks:
      redis-net:
        ipv4_address: 10.0.1.72
  redis03:
    image: redis:5.0.9-alpine3.11
    volumes:
      - /data/redis7003/data:/data
      - /data/redis7003/conf/redis7003.conf:/redis/redis.conf
    command: "redis-server /redis/redis.conf"
    sysctls: 
     - net.core.somaxconn=1024
    ports:
      - "7003:7003"
      - "17003:17003"
    networks:
      redis-net:
        ipv4_address: 10.0.1.73  
networks:
  redis-net:
    external: true
    name: redis-net